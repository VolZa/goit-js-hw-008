{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACTC,OAAQC,SAASC,cAAc,kBAC/BC,YAAaF,SAASC,cAAc,wBACpCE,eAAgBH,SAASC,cAAc,4BAErCG,EAAmB,sBAEzBN,EAAKC,OAAOM,iBAAiB,UAG7B,SAAsBC,GAClBA,EAAEC,iBACF,IAAMC,EAAW,IAAIC,SAASH,EAAEI,eAChC,GAA8B,KAA1BF,EAASG,IAAI,UAA+C,KAA5BH,EAASG,IAAI,WAE7C,YADAC,MAAM,uBAGVC,QAAQC,IAAI,CACRC,MAAOP,EAASG,IAAI,SACpBK,QAASR,EAASG,IAAI,aAG1BL,EAAEI,cAAcO,QAChBC,aAAaC,WAAWf,E,IAf5BN,EAAKC,OAAOM,iBAAiB,SAAS,EAAAT,EAAAwB,WAmBtC,SAAqBd,GACjB,IAAME,EAAW,IAAIC,SAASH,EAAEI,eAC1BW,EAAY,CACdN,MAAOP,EAASG,IAAI,SACpBK,QAASR,EAASG,IAAI,YAE1BO,aAAaI,QAAQlB,EAAkBmB,KAAKC,UAAUH,IAEtDR,QAAQC,IAAIO,GACZR,QAAQC,IAAII,aAAaO,QAAQrB,G,GA5BuB,MA+B5D,IAWMsB,EAXkB,SAAAC,GACpB,IACI,OAA4C,OAArCT,aAAaO,QAAQE,QACtBC,EACAL,KAAKM,MAAMX,aAAaO,QAAQE,G,CAE1C,MAAOG,GACHjB,QAAQC,IAAI,oBAAqBgB,EAAMd,Q,EAI3Be,CAAgB3B,GAEhCsB,IACA5B,EAAKI,YAAY8B,MAAQN,EAAYX,MACrCjB,EAAKK,eAAe6B,MAAQN,EAAYV,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    inputMailEl: document.querySelector('.feedback-form input'),\n    inputMessageEl: document.querySelector('.feedback-form textarea'),\n}\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    if (formData.get('email') === '' || formData.get('message') === '') {\n        alert('Заповніть всі поля!');\n        return;\n    }\n    console.log({\n        email: formData.get('email'),\n        message: formData.get('message'),\n    });\n\n    e.currentTarget.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\n\nfunction onFormInput(e) {\n    const formData = new FormData(e.currentTarget);\n    const formState = {\n        email: formData.get('email'),\n        message: formData.get('message'),\n    }\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formState));\n\n    console.log(formState);\n    console.log(localStorage.getItem(LOCALSTORAGE_KEY));\n}\n\nconst getStoredObject = storageKey => {\n    try {\n        return localStorage.getItem(storageKey) === null\n            ? undefined\n            : JSON.parse(localStorage.getItem(storageKey));\n    }\n    catch (error) {\n        console.log('Get state error: ', error.message);\n    }\n} \n\nconst storageData = getStoredObject(LOCALSTORAGE_KEY);\n\nif (storageData) {\n    refs.inputMailEl.value = storageData.email;\n    refs.inputMessageEl.value = storageData.message;\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","formEl","document","querySelector","inputMailEl","inputMessageEl","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","e","preventDefault","formData","FormData","currentTarget","get","alert","console","log","email","message","reset","localStorage","removeItem","throttle","formState","setItem","JSON","stringify","getItem","$b00c40859be242c5$var$storageData","storageKey","undefined","parse","error","$b00c40859be242c5$var$getStoredObject","value"],"version":3,"file":"03-feedback.c846fd56.js.map"}