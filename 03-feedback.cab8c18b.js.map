{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACTC,OAAQC,SAASC,cAAc,kBAC/BC,YAAaF,SAASC,cAAc,wBACpCE,eAAgBH,SAASC,cAAc,4BAI3CH,EAAKC,OAAOK,iBAAiB,UAG7B,SAAsBC,GAClBA,EAAEC,iBACF,MAAMC,EAAW,IAAIC,SAASH,EAAEI,eAChC,GAA8B,KAA1BF,EAASG,IAAI,UAA+C,KAA5BH,EAASG,IAAI,WAE7C,YADAC,MAAM,uBAGVC,QAAQC,IAAI,CACRC,MAAOP,EAASG,IAAI,SACpBK,QAASR,EAASG,IAAI,aAG1BL,EAAEI,cAAcO,QAChBC,aAAaC,WAlBQ,sB,IAGzBpB,EAAKC,OAAOK,iBAAiB,SAAS,EAAAR,EAAAuB,WAmBtC,SAAqBd,GACjB,MAAME,EAAW,IAAIC,SAASH,EAAEI,eAC1BW,EAAY,CACdN,MAAOP,EAASG,IAAI,SACpBK,QAASR,EAASG,IAAI,YAE1BO,aAAaI,QA5BQ,sBA4BkBC,KAAKC,UAAUH,IAEtDR,QAAQC,IAAIO,GACZR,QAAQC,IAAII,aAAaO,QA/BJ,uB,GAGmC,MA+B5D,MAWMC,EAXkB,CAAAC,IACpB,IACI,OAA4C,OAArCT,aAAaO,QAAQE,QACtBC,EACAL,KAAKM,MAAMX,aAAaO,QAAQE,G,CAE1C,MAAOG,GACHjB,QAAQC,IAAI,oBAAqBgB,EAAMd,Q,GAI3Be,CA7CK,uBA+CrBL,IACA3B,EAAKI,YAAY6B,MAAQN,EAAYX,MACrChB,EAAKK,eAAe4B,MAAQN,EAAYV","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    inputMailEl: document.querySelector('.feedback-form input'),\n    inputMessageEl: document.querySelector('.feedback-form textarea'),\n}\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.formEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    if (formData.get('email') === '' || formData.get('message') === '') {\n        alert('Заповніть всі поля!');\n        return;\n    }\n    console.log({\n        email: formData.get('email'),\n        message: formData.get('message'),\n    });\n\n    e.currentTarget.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\n\nfunction onFormInput(e) {\n    const formData = new FormData(e.currentTarget);\n    const formState = {\n        email: formData.get('email'),\n        message: formData.get('message'),\n    }\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formState));\n\n    console.log(formState);\n    console.log(localStorage.getItem(LOCALSTORAGE_KEY));\n}\n\nconst getStoredObject = storageKey => {\n    try {\n        return localStorage.getItem(storageKey) === null\n            ? undefined\n            : JSON.parse(localStorage.getItem(storageKey));\n    }\n    catch (error) {\n        console.log('Get state error: ', error.message);\n    }\n} \n\nconst storageData = getStoredObject(LOCALSTORAGE_KEY);\n\nif (storageData) {\n    refs.inputMailEl.value = storageData.email;\n    refs.inputMessageEl.value = storageData.message;\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","formEl","document","querySelector","inputMailEl","inputMessageEl","addEventListener","e","preventDefault","formData","FormData","currentTarget","get","alert","console","log","email","message","reset","localStorage","removeItem","throttle","formState","setItem","JSON","stringify","getItem","$945622fd0f572e60$var$storageData","storageKey","undefined","parse","error","$945622fd0f572e60$var$getStoredObject","value"],"version":3,"file":"03-feedback.cab8c18b.js.map"}